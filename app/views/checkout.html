<div class="container">
    <div ng-if="vm.carts != null">

        <div class="row">
            <!--user details-->
            <div class="checkout-div col-xs-12 col-sm-5 col-md-5 col-lg-5 ">
                <div class="row">
                    <p class="checkout-title">Customer Information</p>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <label>Contact</label>
                        <input type="text" class="form-control checkout" ng-model="vm.carts.user.email" placeholder="Email">
                        <input type="text" class="form-control checkout" ng-model="vm.carts.user_profile.phone" placeholder="Phone">
                    </div>
                    <div ng-if="vm.order.customer_details.delivery == 1" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <label>Delivery Address</label>
                        <input type="text" class="form-control checkout" ng-model="vm.carts.user_profile.address" placeholder="Address">
                        <input type="text" class="form-control checkout" ng-model="vm.carts.user_profile.zip" placeholder="Zip code">
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <label>Instructions <small class="text-muted">(optional)</small></label>
                        <textarea type="text" class="form-control" ng-model="vm.order.customer_details.instructions"></textarea>
                        <br>
                    </div>
                </div>
            </div>

            <!--Delivery details-->
            <!--chef has pickup and delivery-->
            <div ng-if="vm.carts.chef.pickup == 1 && vm.carts.chef.oe_delivery == 1" class="checkout-div col-xs-12 col-sm-5 col-md-5 col-lg-5 ">
                <div>
                    <div class="row">
                        <p class="checkout-title">Order Details</p>
                    </div>

                    <div class="checkout-summary-item delivery">
                            <input id="delivery" class="form-control slider" type="checkbox" ng-model="vm.order.customer_details.delivery" ng-true-value="1" ng-false-value="0">
                            <label for="delivery" class="checkout ios-checkbox" data-permit="Pickup" data-deny="Delivery"></label>
                    </div>

                    <div ng-if="vm.order.customer_details.delivery == 1">
                        <div class="text-left">
                            <label>Delivery Date</label>
                            <p>{{vm.carts.chef.delivery_date}}</p>
                        </div>
                        <div class="text-left">
                            <label>Delivery Instructions</label>
                            <p>{{vm.carts.chef.delivery_info}}</p>
                            <br>
                        </div>
                    </div>
                    <div ng-if="vm.order.customer_details.delivery == 0">
                        <div class="text-left">
                            <label>Pickup Date</label>
                            <p>{{vm.carts.chef.pickup_date}}</p>
                        </div>
                        <div class="text-left">
                            <label>Pickup Address</label>
                            <p>{{vm.carts.chef.pickup_pickup}}</p>
                        </div>
                        <div class="text-left">
                            <label>Pickup Instructions</label>
                            <p>{{vm.carts.chef.pickup_info}}</p>
                            <br>
                        </div>
                    </div>
                </div>
            </div>
            <!--delivery only-->
            <div ng-if="vm.carts.chef.pickup == 0 && vm.carts.chef.oe_delivery == 1" class="checkout-div col-xs-12 col-sm-5 col-md-5 col-lg-5 ">
                <div>
                    <div class="row">
                        <p class="checkout-title">Order Details</p>
                    </div>
                    <div class="text-left">
                        <label>Delivery Date</label>
                        <p>{{vm.carts.chef.delivery_date}}</p>
                    </div>
                    <div class="text-left">
                        <label>Delivery Instructions</label>
                        <p>{{vm.carts.chef.delivery_info}}</p>
                        <br>
                    </div>
                </div>
            </div>
            <!--pickup only-->
            <div ng-if="vm.carts.chef.pickup == 1 && vm.carts.chef.oe_delivery == 0" class="checkout-div col-xs-12 col-sm-5 col-md-5 col-lg-5 ">
                <div>
                    <div class="row">
                        <p class="checkout-title">Order Details</p>
                    </div>
                    <div class="text-left">
                        <label>Pickup Date</label>
                        <p>{{vm.carts.chef.pickup_date}}</p>
                    </div>
                    <div class="text-left">
                        <label>Pickup Address</label>
                        <p>{{vm.carts.chef.pickup_pickup}}</p>
                    </div>
                    <div class="text-left">
                        <label>Pickup Instructions</label>
                        <p>{{vm.carts.chef.pickup_info}}</p>
                        <br>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!--order summary-->
            <div class="checkout-summary-div col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="row">
                    <p class="checkout-title">Order Summary</p>
                    <div ng-repeat="meal in vm.carts.details">
                        <div class="checkout-summary-item">
                            <div class="item-name text-left">
                                <h5><strong>{{meal.name}}</strong></h5>
                                <p><span class="title">Quantity: </span>{{meal.quantity}}</p>
                                <p><span class="title">Price per meal: </span>{{meal.price | currency}}</p>
                            </div>
                            <div class=" text-right">
                                <a ng-click="vm.remove($index)">Remove <span class="glyphicon glyphicon-trash"></span></a>
                            </div>
                        </div>
                        <hr style="color: lightgrey" width="80%">
                    </div>
                    <div class="checkout-summary-details">
                        <div class="text-left">
                            <!--<p class="text-muted">Subtotal:</p>-->
                            <p class="text-muted">Platform Fee</p>
                            <p ng-if="vm.order.customer_details.delivery == 1" class="text-muted">Delivery Fee</p>
                            <p><strong>Total</strong></p>
                        </div>
                        <div class="text-right">
                            <!--<p ng-model="vm.subtotal">{{vm.subtotal | currency}}</p>-->
                            <p ng-model="vm.serviceFee">{{vm.serviceFee | currency}}</p>
                            <p ng-if="vm.order.customer_details.delivery == 1" ng-model="vm.deliveryFee">{{vm.deliveryFee | currency}}</p>
                            <p ng-model="vm.total">{{vm.total | currency}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <br>
                <button id="customButton" ng-disabled="buttonDisabled" type="submit" class="btn btn-default call-to-action-btn"
                        ng-click="vm.open()">Submit Order</button>
            </div>
        </div>
    </div>
</div>



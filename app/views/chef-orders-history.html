<div class="container">
    <div ng-if="vm.allOrder != null">
        <div class="row">
            <div ui-view="miniNav"></div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <p class="page-header">Order History</p>
                <div ng-if="vm.allOrder != null">
                    <div class="section-content" ng-repeat="order in vm.allOrder">
                        <div class="row">
                            <div class="col-xs-2 col-sm-2 col-md-1 col-lg-1 listing-face-image" ng-style="{'background-image': 'url('+ order.user.photo +')'}">
                            </div>
                            <div class="text-right">
                                <p class="date">{{order.order_details.method}}: {{order.order_details.date}}</p>
                                <p class="order"><strong>Order Total: {{order.order_total | currency}}</strong></p>
                            </div>
                        </div>

                        <div class="row">
                            <div class="checkout-summary-item">
                                <a class="text-left" ui-sref="profile({id: order.user.id})">{{order.user.first_name}}</a>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div>
                                    <label>Customer Details</label>
                                    <div class="checkout-summary-item details customer">
                                        <div class="item-name text-left">
                                            <p class="text-muted">Email</p>
                                            <p class="text-muted">Phone</p>
                                        </div>
                                        <div class="item-name text-right">
                                            <p>{{order.customer_details.email}}</p>
                                            <p>{{order.customer_details.phone}}</p>
                                        </div>
                                    </div>
                                    <br>
                                    <br>
                                </div>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <label>Order Summary</label>
                                <div ng-repeat="meal in order.meal_details">
                                    <div class="checkout-summary-item">
                                        <div class="item-name text-left">
                                            <p><strong>{{meal.name}}</strong></p>
                                            <p><span class="item-name text-muted">Quantity: </span>{{meal.quantity}}</p>
                                            <!--TODO come back to this after settting up meal details-->
                                            <p>Request</p>
                                            <br>
                                        </div>
                                    </div>
                                </div>
                                <br>
                            </div>
                        </div>
                    </div>
                    <div ng-if="!vm.allOrder[0]" class="no-show">
                        Uh Oh! No orders to show. Get the ball rolling by setting up your menu <a ui-sref="chef-current-menu({id: auth.data.id})"> <i class="fa fa-arrow-circle-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>